@page "/DrugDetails/{Id:int}"
@inherits DrugDetailsBase

@if (Drug == null && ErrorMessage == null)
{
    <DisplaySpinner/>
}
else if (ErrorMessage != null)
{
    <DisplayError ErrorMessage="@ErrorMessage"></DisplayError>
}
else
{
    <h3 class="mb-5">
        <div class="col-md-6 mb-4">
            <img class="img-fluid" src="@Drug.ImageURL"/>
        </div>

        <div class="col-md-6">
            <h3>@Drug.TradeName</h3>
            <p class="mb-4">@Drug.Price.ToString("C")&nbsp;(@Drug.Quantity items in stock)</p>
            <div>
                <button class="btn btn-success" @onclick="(() => AddToCartClick(new CartItemToAdd {CartId = HardCoded.CardId, DrugId = Drug.DrugId, Quantity = 1}))">Add to cart</button>
            </div>
        </div>


    </h3>
}